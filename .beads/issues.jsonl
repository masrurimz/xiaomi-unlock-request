{"id":"xiaomi-unlock-request-1cy","title":"mypy strict: fix all 36 type errors across 4 files","description":"Add mypy strict compliance to xiaomi-unlock-request. 36 errors across core.py, ui.py, config.py, cli.py. All analysed by oracle — 6 subtask categories identified.","status":"open","priority":1,"issue_type":"epic","owner":"masruri03@gmail.com","created_at":"2026-02-22T22:51:57.418359+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T22:51:57.418359+07:00"}
{"id":"xiaomi-unlock-request-2m7","title":"Fix config.py code review issues: token verification, asyncio safety, UX","description":"7 issues found in code review of setup wizard changes. Fix all before next release.","design":"Issues: #1 popRunToken verified with wrong cookie name, #2 network errors shown as success, #3 asyncio.run() called twice, #4 infinite retry loop, #5 unused browser2 var, #6 browser renumbering UX, #7 import ordering. Also add token expiry date display after verification.","status":"closed","priority":0,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T00:32:23.550037+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T00:34:50.704462+07:00","closed_at":"2026-02-22T00:34:50.704462+07:00","close_reason":"All 7 code review issues fixed + expiry display added. Pushed to origin/master @ 8e2a8ed."}
{"id":"xiaomi-unlock-request-448","title":"[P0] parse_apply_response: data=None and missing data key crash","description":"Inputs: {'code':0,'data':None} and {'code':0}. Currently crashes run_worker because only ValueError is caught around parsing. Expected: return (Unexpected..., False) without raising.","status":"open","priority":0,"issue_type":"bug","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:07:05.939715+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:07:05.939715+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-448","depends_on_id":"xiaomi-unlock-request-pvu","type":"parent-child","created_at":"2026-02-22T23:07:11.162058+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-6jf","title":"[B] Offsets typing: annotate TIME_OFFSETS_MS as list[float]","description":"Change TIME_OFFSETS_MS: list[float] = [1400, 900, 400, 100]. Fixes 6 list[int] vs list[float] errors in cli.py.","status":"closed","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T22:52:14.663944+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T22:57:44.796856+07:00","closed_at":"2026-02-22T22:57:44.796856+07:00","close_reason":"mypy strict compliance — 36 errors resolved","dependencies":[{"issue_id":"xiaomi-unlock-request-6jf","depends_on_id":"xiaomi-unlock-request-1cy","type":"parent-child","created_at":"2026-02-22T22:52:21.767212+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-7pm","title":"[P1] calc_target_time: exactly at midnight, at MAX_RETRY_SECS boundary, offset \u003e time remaining","description":"3 boundary tests: 00:00:00 (exactly midnight), 00:00:30 (boundary — targets tomorrow per \u003c check), 23:59:59.5 with offset_ms=1000 (target in past).","status":"open","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:07:06.402987+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:07:06.402987+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-7pm","depends_on_id":"xiaomi-unlock-request-pvu","type":"parent-child","created_at":"2026-02-22T23:07:11.608296+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-7ur","title":"Extract core.py: business logic with clock protocol","description":"All NTP, HTTP, timing, worker logic. Framework-agnostic (no Rich/Typer imports). Clock protocol for testable time control.","design":"CLOCK PROTOCOL: Protocol class with monotonic() and synced_now() methods. Production impl uses time.monotonic + NTP offset. Test impl returns controlled values.\nFUNCTIONS: sync_ntp(), check_status(), calc_target_time(), build_cookie(), gen_device_id(), parse_status_response(), parse_apply_response()\nASYNC: run_workers() takes clock + http_client as params for testability","acceptance_criteria":"- [ ] All business logic importable without Rich/Typer\n- [ ] Clock protocol allows injecting fake time\n- [ ] check_status() returns typed result (not bool + print)\n- [ ] run_workers() accepts injected client + clock\n- [ ] Tests in test_core.py pass","status":"closed","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-21T23:36:42.817275+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T00:03:39.965095+07:00","closed_at":"2026-02-22T00:03:39.965095+07:00","close_reason":"core.py: Clock protocol, all business logic, typed results","dependencies":[{"issue_id":"xiaomi-unlock-request-7ur","depends_on_id":"xiaomi-unlock-request-qzc","type":"blocks","created_at":"2026-02-21T23:36:53.261323+07:00","created_by":"Muhammad Zahid Masruri"},{"issue_id":"xiaomi-unlock-request-7ur","depends_on_id":"xiaomi-unlock-request-8ut","type":"parent-child","created_at":"2026-02-21T23:37:00.66345+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-8ut","title":"CLI UX Overhaul: Typer + Rich interactive CLI","description":"Rewrite xiaomi-unlock-request from single-file raw ANSI script into modern interactive CLI with Typer + Rich. Subcommands: setup, status, run. Live countdown, spinners, worker table, results panel. Full test suite.","design":"FRAMEWORK: Typer + Rich (oracle-validated choice over Cyclopts/Click)\nSTRUCTURE: src/xiaomi_unlock/ package with 4 modules (cli.py, core.py, ui.py, config.py)\nENTRY: mi-unlock via [project.scripts]\nSUBCOMMANDS: setup (token wizard), status (quick check), run (full AQLR flow)\nDEPS: typer\u003e=0.15, rich\u003e=13, httpx\u003e=0.27, ntplib\u003e=0.4\nDEV DEPS: pytest\u003e=8, pytest-asyncio\u003e=0.24, respx\u003e=0.22\nTESTING: Clock protocol for deterministic time tests, respx for HTTP mocking\nUI: Rich spinners (NTP/status), Rich Live countdown (HH:MM:SS), Rich Table (worker status), Rich Panel (results + next steps)\nFLAGS: --dry-run, --plain (line-based output)","acceptance_criteria":"- [ ] uv run mi-unlock setup → interactive token wizard saves tokens.json\n- [ ] uv run mi-unlock status → checks account eligibility with spinner\n- [ ] uv run mi-unlock run → full flow with live countdown + worker table\n- [ ] uv run mi-unlock run --dry-run → runs everything except HTTP POST\n- [ ] uv run mi-unlock run --plain → line-based output (no Rich Live)\n- [ ] pytest passes with \u003e80% coverage on core.py and config.py\n- [ ] Old unlock.py deleted\n- [ ] README updated with new usage","notes":"[2026-02-22 00:40] STEP: Planning complete, beads created with dependency graph\nRESULT: Epic + 7 child tasks with blocks dependencies. Oracle validated Typer+Rich choice.\nTRACE: bd create x7, bd dep add x14, oracle consulted\nPLAN: Scaffold → Config+Core+UI (parallel-ready) → CLI → Tests → Cleanup\nDECISIONS: Typer+Rich over Cyclopts (ecosystem maturity), src layout, clock protocol for testing\nNEXT: Handoff to worker thread for implementation (all 7 tasks sequential)","status":"closed","priority":0,"issue_type":"epic","owner":"masruri03@gmail.com","created_at":"2026-02-21T23:36:14.436714+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T00:03:23.201424+07:00","closed_at":"2026-02-22T00:03:23.201427+07:00"}
{"id":"xiaomi-unlock-request-93q","title":"Extract config.py: token management + validation","description":"Token load/save/validate logic. Support tokens.json (new) and token.txt (legacy compat). Interactive setup wizard with Rich prompts.","acceptance_criteria":"- [ ] load_tokens() reads tokens.json or token.txt\n- [ ] save_tokens() writes tokens.json with chmod 600\n- [ ] validate_token() checks non-empty, reasonable length\n- [ ] setup_wizard() interactive Rich prompts for Firefox + Chrome tokens\n- [ ] Tests in test_config.py pass","status":"closed","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-21T23:36:42.731228+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T00:03:40.04497+07:00","closed_at":"2026-02-22T00:03:40.04497+07:00","close_reason":"config.py: load/save/validate tokens, setup_wizard","dependencies":[{"issue_id":"xiaomi-unlock-request-93q","depends_on_id":"xiaomi-unlock-request-qzc","type":"blocks","created_at":"2026-02-21T23:36:53.181312+07:00","created_by":"Muhammad Zahid Masruri"},{"issue_id":"xiaomi-unlock-request-93q","depends_on_id":"xiaomi-unlock-request-8ut","type":"parent-child","created_at":"2026-02-21T23:37:00.575444+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-bp7","title":"[F] CLI strict typing: assert beijing non-None + annotate nested functions","description":"cli.py: assert beijing is not None after ntp success. Annotate on_attempt, _run_with_live, _on_attempt with full signatures.","status":"closed","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T22:52:15.020428+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T22:57:44.873988+07:00","closed_at":"2026-02-22T22:57:44.873988+07:00","close_reason":"mypy strict compliance — 36 errors resolved","dependencies":[{"issue_id":"xiaomi-unlock-request-bp7","depends_on_id":"xiaomi-unlock-request-1cy","type":"parent-child","created_at":"2026-02-22T22:52:22.121225+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-c6p","title":"[D] AsyncClient None-guard in check_status()","description":"Add assert client is not None after conditional creation. Guard aclose() in finally. core.py:155,161.","status":"closed","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T22:52:14.841217+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T22:57:44.835902+07:00","closed_at":"2026-02-22T22:57:44.835902+07:00","close_reason":"mypy strict compliance — 36 errors resolved","dependencies":[{"issue_id":"xiaomi-unlock-request-c6p","depends_on_id":"xiaomi-unlock-request-1cy","type":"parent-child","created_at":"2026-02-22T22:52:21.946878+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-c8q","title":"Scaffold project: src layout + pyproject.toml + deps","description":"Restructure from flat unlock.py to src/xiaomi_unlock/ package. Update pyproject.toml with Typer+Rich deps, dev deps, console_scripts entry point, pytest config.","acceptance_criteria":"- [ ] src/xiaomi_unlock/__init__.py exists\n- [ ] src/xiaomi_unlock/cli.py, core.py, ui.py, config.py exist (can be stubs)\n- [ ] pyproject.toml has all runtime + dev deps\n- [ ] [project.scripts] mi-unlock = xiaomi_unlock.cli:app\n- [ ] uv sync succeeds\n- [ ] uv run mi-unlock --help shows subcommands","notes":"COMPLETED: Scaffold started. DECISION: Switching from Typer to Click based on librarian research - Click is user's existing pattern (pse-scraper), both frameworks have identical async/Rich Live behavior, Click is more mature. pyproject.toml updated.","status":"closed","priority":0,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-21T23:36:20.816427+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T00:03:40.124357+07:00","closed_at":"2026-02-22T00:03:40.124357+07:00","close_reason":"Scaffold: src layout, pyproject.toml Click+Rich deps","dependencies":[{"issue_id":"xiaomi-unlock-request-c8q","depends_on_id":"xiaomi-unlock-request-93q","type":"blocks","created_at":"2026-02-21T23:36:52.933847+07:00","created_by":"Muhammad Zahid Masruri"},{"issue_id":"xiaomi-unlock-request-c8q","depends_on_id":"xiaomi-unlock-request-7ur","type":"blocks","created_at":"2026-02-21T23:36:53.014953+07:00","created_by":"Muhammad Zahid Masruri"},{"issue_id":"xiaomi-unlock-request-c8q","depends_on_id":"xiaomi-unlock-request-crc","type":"blocks","created_at":"2026-02-21T23:36:53.09801+07:00","created_by":"Muhammad Zahid Masruri"},{"issue_id":"xiaomi-unlock-request-c8q","depends_on_id":"xiaomi-unlock-request-8ut","type":"parent-child","created_at":"2026-02-21T23:37:00.494415+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-crc","title":"Build ui.py: Rich display components","description":"Rich UI components: NTP spinner, status panel, live countdown, worker status table, results panel, next-steps panel.","acceptance_criteria":"- [ ] ntp_spinner() context manager with Rich spinner\n- [ ] status_panel() renders account status as Rich Panel\n- [ ] countdown_display() Rich Live with updating HH:MM:SS\n- [ ] worker_table() Rich Table with per-worker status\n- [ ] results_panel() Rich Panel with approval/failure + next steps\n- [ ] All components accept data from core.py (no HTTP calls)","status":"closed","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-21T23:36:42.901955+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T00:03:39.886992+07:00","closed_at":"2026-02-22T00:03:39.886992+07:00","close_reason":"ui.py: ntp_spinner, status_panel, countdown_display, worker_table, results_panel","dependencies":[{"issue_id":"xiaomi-unlock-request-crc","depends_on_id":"xiaomi-unlock-request-qzc","type":"blocks","created_at":"2026-02-21T23:36:53.337391+07:00","created_by":"Muhammad Zahid Masruri"},{"issue_id":"xiaomi-unlock-request-crc","depends_on_id":"xiaomi-unlock-request-8ut","type":"parent-child","created_at":"2026-02-21T23:37:00.746511+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-e5l","title":"[P1] parse_apply_response + parse_status_response: unexpected codes matrix","description":"apply: code=123456, code=None. status: is_pass=4/btn=3, btn=99, is_pass=2/btn=1, deadline missing when is_pass=1.","status":"open","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:07:06.799774+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:07:06.799774+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-e5l","depends_on_id":"xiaomi-unlock-request-pvu","type":"parent-child","created_at":"2026-02-22T23:07:11.969589+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-flj","title":"Xiaomi 15 bootloader unlock via AQLR","description":"Clean Python implementation of AQLR method for Xiaomi bootloader unlock. 4 parallel requests at midnight Beijing time with staggered offsets.","notes":"COMPLETED: Audited original AQLR files (5 Python files, all clean, no malware). Rewrote as clean asyncio script using httpx+ntplib. Set up uv project. NEXT: Get browser tokens from c.mi.com/global, put in token.txt, run at midnight Beijing time.","status":"open","priority":0,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-21T23:29:30.401998+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-21T23:29:30.401998+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-flj","depends_on_id":"xiaomi-unlock-request-8ut","type":"related","created_at":"2026-02-21T23:36:53.571963+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-iy6","title":"[P0] parse_status_response: data=None and missing data key crash","description":"Input: {'code':0,'data':None}. Crashes check_status() and 100003 verification path in run_worker. Expected: eligible=False, Unknown status message.","status":"open","priority":0,"issue_type":"bug","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:07:06.033172+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:07:06.033172+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-iy6","depends_on_id":"xiaomi-unlock-request-pvu","type":"parent-child","created_at":"2026-02-22T23:07:11.250818+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-lu8","title":"[P1] worker network: ReadTimeout retries, non-JSON retries, non-200 with JSON","description":"POST raises httpx.ReadTimeout then succeeds. POST returns non-JSON text then succeeds. POST returns 500 with valid JSON (locks behavior — currently approves).","status":"open","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:07:06.595531+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:07:06.595531+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-lu8","depends_on_id":"xiaomi-unlock-request-pvu","type":"parent-child","created_at":"2026-02-22T23:07:11.78472+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-m1z","title":"[P2] sync_ntp: first server fails, all fail, empty list","description":"Mock ntplib. First server raises then second succeeds. All servers raise. Empty list → error='No NTP servers configured'.","status":"open","priority":2,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:07:06.902407+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:07:06.902407+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-m1z","depends_on_id":"xiaomi-unlock-request-pvu","type":"parent-child","created_at":"2026-02-22T23:07:12.06112+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-mvz","title":"[P0] check_status: data=None payload must not crash","description":"Mock GET to return 200 with {'code':0,'data':None}. check_status() must return StatusResult(eligible=False) not raise.","status":"open","priority":0,"issue_type":"bug","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:07:06.124284+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:07:06.124284+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-mvz","depends_on_id":"xiaomi-unlock-request-pvu","type":"parent-child","created_at":"2026-02-22T23:07:11.341269+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-pvu","title":"tests: fill missing edge case coverage (oracle audit)","description":"Oracle identified 5 P0 crashers and 10+ P1 correctness gaps across parse_apply_response, parse_status_response, calc_target_time, run_worker, run_workers, check_status, and sync_ntp.","status":"open","priority":1,"issue_type":"epic","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:06:45.205908+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:06:45.205908+07:00"}
{"id":"xiaomi-unlock-request-qfh","title":"[P0] run_workers: silent truncation when offsets.len != 4","description":"offsets=[1400,900] silently runs 2 workers. User thinks 4 are running. Test should enforce documented behavior (raise or return 2 with docs).","status":"open","priority":0,"issue_type":"bug","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:07:06.310348+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:07:06.310348+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-qfh","depends_on_id":"xiaomi-unlock-request-pvu","type":"parent-child","created_at":"2026-02-22T23:07:11.51954+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-qzc","title":"Wire cli.py: Typer subcommands + integration","description":"Typer app with 3 subcommands: setup, status, run. Wires core.py + ui.py together. Flags: --dry-run, --plain, --token-file.","acceptance_criteria":"- [ ] mi-unlock setup → runs token wizard from config.py\n- [ ] mi-unlock status → calls core.check_status, renders with ui.status_panel\n- [ ] mi-unlock run → full AQLR flow with live UI\n- [ ] mi-unlock run --dry-run → skips actual POST\n- [ ] mi-unlock run --plain → falls back to line-based output\n- [ ] --help shows all commands with descriptions","status":"closed","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-21T23:36:42.987596+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T00:03:39.810348+07:00","closed_at":"2026-02-22T00:03:39.810348+07:00","close_reason":"cli.py: Click group, setup/status/run subcommands","dependencies":[{"issue_id":"xiaomi-unlock-request-qzc","depends_on_id":"xiaomi-unlock-request-w26","type":"blocks","created_at":"2026-02-21T23:36:53.417143+07:00","created_by":"Muhammad Zahid Masruri"},{"issue_id":"xiaomi-unlock-request-qzc","depends_on_id":"xiaomi-unlock-request-8ut","type":"parent-child","created_at":"2026-02-21T23:37:00.83114+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-t80","title":"Cleanup: delete unlock.py, update README","description":"Remove old unlock.py, update README with new CLI usage, verify e2e.","acceptance_criteria":"- [ ] unlock.py deleted\n- [ ] README shows mi-unlock setup/status/run usage\n- [ ] uv run mi-unlock --help works\n- [ ] git commit with all changes","status":"closed","priority":2,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-21T23:36:43.161692+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T00:03:23.125747+07:00","closed_at":"2026-02-22T00:03:23.125747+07:00","close_reason":"unlock.py deleted, README updated with new mi-unlock usage","dependencies":[{"issue_id":"xiaomi-unlock-request-t80","depends_on_id":"xiaomi-unlock-request-8ut","type":"parent-child","created_at":"2026-02-21T23:37:00.992859+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-w26","title":"Write test suite","description":"pytest tests for core logic, config, and worker behavior. Use respx for HTTP mocking, fake clock for time control.","acceptance_criteria":"- [ ] test_config.py: load/save/validate tokens, missing file, legacy format\n- [ ] test_core.py: device_id, cookie, timing calcs, status parsing, apply parsing\n- [ ] test_worker.py: retry on 100001, stop on approval, timeout, quota reached\n- [ ] All tests pass: uv run pytest\n- [ ] No real HTTP calls or real sleeps in tests","status":"closed","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-21T23:36:43.074676+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T00:03:28.440341+07:00","closed_at":"2026-02-22T00:03:28.440341+07:00","close_reason":"32 tests passing","dependencies":[{"issue_id":"xiaomi-unlock-request-w26","depends_on_id":"xiaomi-unlock-request-t80","type":"blocks","created_at":"2026-02-21T23:36:53.493389+07:00","created_by":"Muhammad Zahid Masruri"},{"issue_id":"xiaomi-unlock-request-w26","depends_on_id":"xiaomi-unlock-request-8ut","type":"parent-child","created_at":"2026-02-21T23:37:00.913014+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-w3m","title":"[P1] run_workers: token alternation and dev_id sharing correctness","description":"Monkeypatch run_worker stub. Assert wid1+3=firefox, wid2+4=chrome. Assert dev_id1==dev_id3, dev_id2==dev_id4, dev_id1!=dev_id2.","status":"open","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:07:06.696532+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:07:06.696532+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-w3m","depends_on_id":"xiaomi-unlock-request-pvu","type":"parent-child","created_at":"2026-02-22T23:07:11.876332+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-w4k","title":"[A] Callable typing: replace callable with Callable[[...], ...] in core.py + ui.py","description":"on_attempt: Callable[[int, int, datetime], None] | None; clock_synced_now: Callable[[], datetime]. Import from collections.abc.","status":"closed","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T22:52:14.573501+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T22:57:44.778078+07:00","closed_at":"2026-02-22T22:57:44.778078+07:00","close_reason":"mypy strict compliance — 36 errors resolved","dependencies":[{"issue_id":"xiaomi-unlock-request-w4k","depends_on_id":"xiaomi-unlock-request-1cy","type":"parent-child","created_at":"2026-02-22T22:52:21.680403+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-x7j","title":"[P1] worker 100003 path: status approved, token expired, GET network error","description":"3 sequences: POST 100003 + GET approved → approved=True + stop.set(). POST 100003 + GET expired → approved=None no stop. POST 100003 + GET timeout + POST approved → approved=True.","status":"open","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:07:06.497687+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:07:06.497687+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-x7j","depends_on_id":"xiaomi-unlock-request-pvu","type":"parent-child","created_at":"2026-02-22T23:07:11.694421+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-z3b","title":"[P0] run_worker: stop set during coarse-sleep must prevent any POST","description":"Clock sleep() sets stop.set(), synced_now stays \u003c target. respx should assert 0 POST calls. Expected: approved=None, 'Stopped' message, no HTTP.","status":"open","priority":0,"issue_type":"bug","owner":"masruri03@gmail.com","created_at":"2026-02-22T23:07:06.216869+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T23:07:06.216869+07:00","dependencies":[{"issue_id":"xiaomi-unlock-request-z3b","depends_on_id":"xiaomi-unlock-request-pvu","type":"parent-child","created_at":"2026-02-22T23:07:11.427703+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-z89","title":"[C] JSON/dict typing: bare dict -\u003e dict[str, Any] for all API payloads","description":"core.py lines 90,99,166,212: raw field and data params. Import Any from typing.","status":"closed","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T22:52:14.752102+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T22:57:44.816494+07:00","closed_at":"2026-02-22T22:57:44.816494+07:00","close_reason":"mypy strict compliance — 36 errors resolved","dependencies":[{"issue_id":"xiaomi-unlock-request-z89","depends_on_id":"xiaomi-unlock-request-1cy","type":"parent-child","created_at":"2026-02-22T22:52:21.856367+07:00","created_by":"Muhammad Zahid Masruri"}]}
{"id":"xiaomi-unlock-request-zlw","title":"[E] Config _run_checks() return type: tuple -\u003e StatusResult","description":"config.py:189-209. _run_checks() returns StatusResult not tuple. Fixes cascading attr errors.","status":"closed","priority":1,"issue_type":"task","owner":"masruri03@gmail.com","created_at":"2026-02-22T22:52:14.931245+07:00","created_by":"Muhammad Zahid Masruri","updated_at":"2026-02-22T22:57:44.85448+07:00","closed_at":"2026-02-22T22:57:44.85448+07:00","close_reason":"mypy strict compliance — 36 errors resolved","dependencies":[{"issue_id":"xiaomi-unlock-request-zlw","depends_on_id":"xiaomi-unlock-request-1cy","type":"parent-child","created_at":"2026-02-22T22:52:22.032809+07:00","created_by":"Muhammad Zahid Masruri"}]}
